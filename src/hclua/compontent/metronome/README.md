# metronome 节拍限流器模块

Metornome是通过控制已发送记录，进行发送限流的限流模块。基本功能是取代各大客户端的speedwalk模块，避免过快发送指令。同时，节拍器可以通过pause,resume,resumeNext,resend,full,fulltick,wait等控制指令进行精细的节奏控制，能满足基本的输出队列的使用需求。节拍器也加入了Decoder和Converter对指令在分送前和后进行解码的功能，使得能方便的进行多个队列的管道转发。

## metronome的可编程部分

### 流程控制
* pasuse/resume:节拍器可以通过pause和resume进行基本的暂停控制。
* resumeNext:在暂停后节拍器就是一个标准的指令队列，所以加入了resumeNext，步进式发送指令，可以手动响应触发进行执行标准的单布指令发送。
* resend: 在发送指令时加入了最后一个指令的记录，因此可以实现在单步发送时，能失败重发最后的指令。

### 时间控制
标准情况下，节拍器是通过高频率检查已发送记录，清理过了限制期的发送记录，根据还剩余多少发送空间来极限输出指令。
* full 通过填满整个已发送记录空间，强制一个完整时间周期不发送指令。
* fulltick 将剩余可发送空间填满，强制下一个周期开始发送指令。
* wait 通过把未来的指定时间段的记录也填充满，使得指定时间内不再节拍器不在发送指令，模拟wait功能
